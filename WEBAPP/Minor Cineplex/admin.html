<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minor Cineplex</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
    <div id="navbar-admin"></div>

    <div class="container justify-content-center align-items-center min-vh-100">
        <div class="container">
            <h2 class="mb-4">Booking Overview</h2>

            <table class="table table-bordered table-striped" id="booking-table">
                <thead class="table-dark">
                    <tr>
                        <th>Movie</th>
                        <th>Theater</th>
                        <th>Showtime</th>
                        <th>Seats</th>
                        <th>Customer</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Bookings will be inserted here -->
                </tbody>
            </table>
        </div>
    </div>

    <div id="footer"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="../js/script.js"></script>
    <script src="../js/fetch.js"></script>
    <script src="../js/translate.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Expanded sample bookings
            const sampleBookings = [
                {
                    movie: "Attack On Titan : The Last Attack",
                    theater: "Lotus's Nakhonpatom",
                    showtime: "16:00",
                    seats: ["A1", "A2", "A3"],
                    customer: "John Doe"
                },
                {
                    movie: "Captain America",
                    theater: "Robinson Nakhonpatom",
                    showtime: "18:30",
                    seats: ["B4", "B5"],
                    customer: "Jane Smith"
                },
                {
                    movie: "Batman 2022",
                    theater: "Central's Nakhonpatom",
                    showtime: "20:45",
                    seats: ["C1", "C2", "C3"],
                    customer: "Alice Johnson"
                },
                {
                    movie: "Avatar",
                    theater: "Lotus's Nakhonpatom",
                    showtime: "14:30",
                    seats: ["D4", "D5"],
                    customer: "Bob Lee"
                },
                {
                    movie: "The Amazing Spiderman",
                    theater: "Robinson Nakhonpatom",
                    showtime: "17:00",
                    seats: ["E6", "F6"],
                    customer: "Charlie Kim"
                },
                {
                    movie: "Last Days",
                    theater: "Central's Nakhonpatom",
                    showtime: "19:15",
                    seats: ["G1", "G2", "G3"],
                    customer: "Diana Green"
                },
                {
                    movie: "Captain America",
                    theater: "Lotus's Nakhonpatom",
                    showtime: "12:00",
                    seats: ["A6", "A7"],
                    customer: "Michael Lee"
                },
                {
                    movie: "Avatar",
                    theater: "Robinson Nakhonpatom",
                    showtime: "13:15",
                    seats: ["B1", "B2", "B3"],
                    customer: "Susan Park"
                },
                {
                    movie: "Last Days",
                    theater: "Lotus's Nakhonpatom",
                    showtime: "21:00",
                    seats: ["C8", "C9"],
                    customer: "Tommy White"
                },
                {
                    movie: "Attack On Titan : The Last Attack",
                    theater: "Central's Nakhonpatom",
                    showtime: "11:45",
                    seats: ["D1", "D2"],
                    customer: "Emma Wong"
                }
            ];

            // Save to localStorage (for testing/demo)
            localStorage.setItem("bookings", JSON.stringify(sampleBookings));

            function loadBookings() {
                const bookings = JSON.parse(localStorage.getItem("bookings")) || [];
                const tableBody = document.querySelector("#booking-table tbody");
                tableBody.innerHTML = "";

                // Sort bookings by theater
                bookings.sort((a, b) => a.theater.localeCompare(b.theater));

                bookings.forEach((booking) => {
                    const row = document.createElement("tr");
                    row.innerHTML = `
                        <td>${booking.movie}</td>
                        <td>${booking.theater}</td>
                        <td>${booking.showtime}</td>
                        <td>${booking.seats.join(", ")}</td>
                        <td>${booking.customer}</td>
                    `;
                    tableBody.appendChild(row);
                });
            }

            loadBookings();
        });
    </script>
</body>

</html>